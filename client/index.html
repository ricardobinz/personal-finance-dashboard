<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#111827" />
    <meta name="description" content="Privacy-first personal finance dashboard for assets, budgeting, and FI projections." />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <title>Personal Finance Dashboard</title>
    <style>
      .pf-consent { position: fixed; left: 0; right: 0; bottom: 0; z-index: 9999; background: #111827; color: #fff; }
      .pf-consent-inner { max-width: 960px; margin: 0 auto; padding: 12px 16px; display: flex; gap: 12px; align-items: center; }
      .pf-btn { background: #e5e7eb; color: #111827; border: none; border-radius: 6px; padding: 8px 12px; cursor: pointer; font-weight: 600; }
      .pf-btn.secondary { background: transparent; color: #e5e7eb; border: 1px solid #6b7280; }
      .pf-consent a { color: #93c5fd; text-decoration: underline; }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-900">
    <div id="root"></div>
    <div id="pf-consent" class="pf-consent" style="display:none">
      <div class="pf-consent-inner">
        <div style="font-size: 14px; line-height:1.35">
          We use privacy-friendly analytics to improve the app. No personal or financial data is sent. See our <a href="/privacy.html" target="_blank" rel="noreferrer noopener">Privacy Policy</a>.
        </div>
        <div style="margin-left:auto; display:flex; gap:8px">
          <button id="pf-consent-accept" class="pf-btn">Allow analytics</button>
          <button id="pf-consent-decline" class="pf-btn secondary">Decline</button>
        </div>
      </div>
    </div>
    <script>
      (function() {
        try {
          var key = 'pf_consent';
          var v = localStorage.getItem(key);
          var el = document.getElementById('pf-consent');
          if (!v && el) {
            el.style.display = 'block';
            document.getElementById('pf-consent-accept').onclick = function() {
              try { localStorage.setItem(key, 'granted'); } catch(e) {}
              el.style.display = 'none';
              // reload to initialize analytics gated in main.jsx
              location.reload();
            };
            document.getElementById('pf-consent-decline').onclick = function() {
              try { localStorage.setItem(key, 'denied'); } catch(e) {}
              el.style.display = 'none';
            };
          }
        } catch(e) {}
      })();
    </script>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
